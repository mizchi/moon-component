// Generated by moon-component
// DO NOT EDIT - this file is regenerated

///| Re-export cabi_realloc for wasm linking
pub fn cabi_realloc(
  old_ptr : Int,
  old_size : Int,
  align : Int,
  new_size : Int,
) -> Int {
  @cabi.cabi_realloc(old_ptr, old_size, align, new_size)
}

pub fn wasmExportRun(pattern_ptr : Int, pattern_len : Int, text_ptr : Int, text_len : Int, replacement_ptr : Int, replacement_len : Int) -> Int {
  let pattern = @cabi.cabi_lift_string(pattern_ptr, pattern_len)
  let text = @cabi.cabi_lift_string(text_ptr, text_len)
  let replacement = @cabi.cabi_lift_string(replacement_ptr, replacement_len)
  let result = run(pattern, text, replacement)
  let (ptr, len) = @cabi.cabi_lower_string(result)
  let retptr = @cabi.cabi_realloc(0, 0, 4, 8)
  @cabi.cabi_write_i32(retptr, ptr)
  @cabi.cabi_write_i32(retptr + 4, len)
  retptr
}

///|
fn main {
  ()
}
