// Generated by wit-bindgen-moonbit

/// Export trait for side-effects
pub(open) trait Exports {
  no_params_no_return(Self) -> Unit
  no_return(Self, msg : String) -> Unit
}

let exports_impl : Ref[&Exports?] = { val: None }

pub fn register(impl_ : &Exports) -> Unit {
  exports_impl.val = Some(impl_)
}

pub fn get_exports() -> &Exports {
  guard exports_impl.val is Some(impl_) else {
    abort("exports not registered")
  }
  impl_
}

pub fn wasmExportNoParamsNoReturn() -> Unit {
  get_exports().no_params_no_return()
}

pub fn wasmExportNoReturn(msg_ptr : Int, msg_len : Int) -> Unit {
  let msg = @cabi.cabi_lift_string(msg_ptr, msg_len)
  get_exports().no_return(msg)
}

