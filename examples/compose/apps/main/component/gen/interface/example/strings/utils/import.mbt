// Generated by moon-component
// Import module: example:strings/utils

///| Low-level FFI import
fn ffi_repeat(p0_ptr : Int, p0_len : Int, p1 : Int, retptr : Int) -> Int = "example:strings/utils" "repeat"

///| High-level wrapper with canonical ABI conversion
pub fn repeat(s : String, n : UInt) -> String {
  let (p0_ptr, p0_len) = @cabi.cabi_lower_string(s)
  let retptr = @cabi.cabi_realloc(0, 0, 4, 8)
  let _ = ffi_repeat(p0_ptr, p0_len, n.reinterpret_as_int(), retptr)
  let result_ptr = @cabi.cabi_read_i32(retptr)
  let result_len = @cabi.cabi_read_i32(retptr + 4)
  @cabi.cabi_lift_string(result_ptr, result_len)
}

///| Low-level FFI import
fn ffi_reverse(p0_ptr : Int, p0_len : Int, retptr : Int) -> Int = "example:strings/utils" "reverse"

///| High-level wrapper with canonical ABI conversion
pub fn reverse(s : String) -> String {
  let (p0_ptr, p0_len) = @cabi.cabi_lower_string(s)
  let retptr = @cabi.cabi_realloc(0, 0, 4, 8)
  let _ = ffi_reverse(p0_ptr, p0_len, retptr)
  let result_ptr = @cabi.cabi_read_i32(retptr)
  let result_len = @cabi.cabi_read_i32(retptr + 4)
  @cabi.cabi_lift_string(result_ptr, result_len)
}

///| Low-level FFI import
fn ffi_uppercase(p0_ptr : Int, p0_len : Int, retptr : Int) -> Int = "example:strings/utils" "uppercase"

///| High-level wrapper with canonical ABI conversion
pub fn uppercase(s : String) -> String {
  let (p0_ptr, p0_len) = @cabi.cabi_lower_string(s)
  let retptr = @cabi.cabi_realloc(0, 0, 4, 8)
  let _ = ffi_uppercase(p0_ptr, p0_len, retptr)
  let result_ptr = @cabi.cabi_read_i32(retptr)
  let result_len = @cabi.cabi_read_i32(retptr + 4)
  @cabi.cabi_lift_string(result_ptr, result_len)
}

