// Deprecated - WKG lock file support (future use)

///|
/// WKG lock file entry
pub struct WkgLockEntry {
  ns : String
  name : String
  version : String
  integrity : String?
} derive(Show, Eq, ToJson)

///|
/// Generate wkg.lock content
pub fn generate_wkg_lock(entries : Array[WkgLockEntry]) -> String {
  let sb = StringBuilder::new()
  sb.write_string("# wkg.lock - Generated by wit-bindgen-moonbit\n")
  sb.write_string("# Do not edit manually\n\n")
  sb.write_string("version = 1\n\n")
  for entry in entries {
    sb.write_string("[[package]]\n")
    sb.write_string("name = \"")
    sb.write_string(entry.ns)
    sb.write_string(":")
    sb.write_string(entry.name)
    sb.write_string("\"\n")
    sb.write_string("version = \"")
    sb.write_string(entry.version)
    sb.write_string("\"\n")
    match entry.integrity {
      Some(hash) => {
        sb.write_string("integrity = \"")
        sb.write_string(hash)
        sb.write_string("\"\n")
      }
      None => ()
    }
    sb.write_string("\n")
  }
  sb.to_string()
}
